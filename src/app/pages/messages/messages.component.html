<div class="search-results" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="100" (scrolled)="onScrollDown()">
	<div class="messages">
		<div class="message" *ngFor="let message of messageList.messages" >
			<div class="message-icon">
				<img *ngIf="message.user.company.mainImageUrl" class="photo-icon" src="{{ message.user.company.mainImageUrl }}">
			</div>

			<div class="message-text-block">
				<div class="message-header">
					<a [routerLink]="['/pages/company', message.nearestCompanyBranch.company.id]" (click)='$event.stopPropagation()'>
						{{ message.nearestCompanyBranch.name }}
					</a>
				</div>
				<div class="message-category">
					<p>
						{{ message.user.company.category.name }}
					</p>
				</div>
				<div class="message-address">
					<p>
						{{message?.location?.address }}
					</p>
				</div>
				<div class="message-distance">
					<p>{{ message.distance | number: '1.2-2'}} km</p>
				</div>
			</div>
			
			<div class="message-icon-work">
				<i *ngIf="message.type === 'EVENT'" class="material-icons">event</i>
				<i *ngIf="message.type === 'WORK'" class="material-icons">work</i>
				<i *ngIf="message.type === 'SHORT_TERM_OFFER'" class="material-icons">local_offer</i>
				<i *ngIf="message.type === 'WORTH_SEEING'" class="material-icons">local_see</i>
				<i *ngIf="message.type === 'PROMOTION'" class="material-icons">star_rate</i>
			</div>

			<div class="message-content" (click)="goToSingle(message.id)">
				<span class="content">{{ message.content}} </span>
			</div>

			<div class="message-time">
				<!--<div class="start-date" *ngIf="message.startDate">
					<span *ngIf="message.startDate">
						Data dodania
					</span>
					<p>
						{{ message.createDate | date: 'dd.MM.yyyy hh:mm' }}
					</p>
				</div>
				<h5>{{ message.type }}</h5>-->
				<div class="start-date" *ngIf="message.startDate">
					<span *ngIf="message.startDate">
						Data rozpoczęcia
					</span>
					<p>
						{{ message.startDate | date: 'dd.MM.yyyy hh:mm' }}
					</p>
				</div>
				<div class="no-date" *ngIf="!message.startDate">
					<span>Brak daty rozpoczęcia</span>
				</div>

				<div class="end-date" *ngIf="message.endDate">
					<span *ngIf="message.endDate">
						Data zakończenia
					</span>
					<p>
						{{ message.endDate | date: 'dd.MM.yyyy hh:mm' }}
					</p>
				</div>

				<div class="no-date" *ngIf="!message.endDate">
					<span>Brak daty zakończenia</span>
				</div>
			</div>

			<div class="message-photo" *ngIf="message.mainImageUrl">
				<img src="{{ message.mainImageUrl}}">
			</div>

			<div class="message-icons">
				<div class="favourite">
					<img *ngIf="!checkIfFavourite(message.id)" (click)="addToFavourites(message.id)" class="icon icons8-Christmas-Star-Filled" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAC30lEQVRoQ92a4XVUIRBGv1RgrECtQK1ArUCtQDuIVqBWoOlAKzCpQK1ArSCxArUCPdcDewj7Hsy8ZTZv5V/yBpgLfMMAe6T48jV1cT+yq6PIxiU9kfQx9fFI0ueo/qJBziQ9Ts6fJ7AQlkiQ25IuKq/vSLqMIIkEeS3pVeX0G0n8f3iJBGE2mJWyMBvMyvASBVKKvHb6qSS0M7REgZQirx0OEX0EyJTIa5jhoo8AmRJ5DTJc9BEgUyKvQYaLfjRIS+Shoh8N0hJ5qOhHglhEHib6kSAWkYeJfiSIReRhou+BPCh6PpZ0r/ibpZRTkPqbZ9f+JulXqkA0K5PK8hsmX+YaBoRIc5IMcBSnDqEADyjlFBBPpFkr4DkgzAAnt7tr9bLj13dJD0uNvJf07MBgPkh6js+12F9IensgMC8lvcu+TkUtCDG4sVKg32kWrpxp5sIv0QvdrA3mR4qyOVptxrq1j6wtCPwTdbHnXFkwvQ0RGJbZdQcBRI1+88a5tep7ILnCkjxqlMRMhzArCE7tOwggamaBbaFbPCA0tq8gAAR62BJ1K9fq0lYG0UGgKeqRILRFaC4zY+9gtOzJcJkNV/Eurdz4H1cvfmO3X+4KabQ++X1z1XA/QSwB2UcoNoXccmiWgPACVZ4UXUNtNHbrxAtCxPppdGZXM5dvLuPqKW1XR3v1XTrxgpB35fN9z5Fdv7t04gVZog8cotSvVz1Ql048IF594Aj5Wb7e4eqIvMmzkd5sZbxLo5b1grqX7HmST/PrlmdGLPronhvSKFrPOacpA+4tw63Lh1aFlj44gjLS3h8EkFOx3G7NdEz2a/rFhHVGWvpwRZcJh2mbc8dcMDDpxAoypQ/EjAPmM0NnfZAtsHzrYGDSiRWk1AdiJt/a3Cl1F7DPgMGh/XyDY9KJFSTfQvK0jBZmLwF8Ps9as9zok9+xbG4TW21bQWiDqR+1jKy85j49INbOr8XuvwH5C+BzgkP8GvuMAAAAAElFTkSuQmCC">
					<img *ngIf="checkIfFavourite(message.id)" (click)="addToFavourites(message.id)" class="icon icons8-Christmas-Star-Filled" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADtElEQVRoQ+2YTVbaUBTH/5cW66zuoDhoyUwYNAzVFZSuoHYFsoPiCoorKK6gugJxSDoAZ6EdSHeAM4623J73kmBIXj5ezMNyjozUyMv93f/9fIQN/9CG249ngKdW0KgC/MM6EID03h2YAjUL4FiXEsB2DzcOQHqfIQFAODSlgjEF2PO+DCEAA1MqGAFY8X4QO4ZUMAOw6v0AwYgKpQMovW9QhfIB1N43pkKpAOy8bQAvRqkls4pdarrTsspqyQBWH8CnkHFX/s/7ob+dke0e/XcAPLJquMfNimEEr4EF/SB4WKIKpSnATtz7ZLuyD7BjiVHCiAqlACR5P+i+yspUkgraADyq7eB+ew+MGiqoYcENgBog1MKxH3g/+FtMBcYU4DEqNMYCUxCmqM6vqTmd6eRHIgA71j6Id6RxwkiindBokP4ORddN7Q/x0wZgnkk4Ack0I9sNCkIkzUK/slPveVVEGlvsw3xNrUlD9WUeWsLTb4odLLNJqHNG9qTz0BvDACI87l4NQLRX7CV8C+Yjav08VwO8a4OoD9DrYufjCtV5OxxmyhBSVJSH9zF+y3j1pUUFclnRHZeDZQcLHCxDVeRVskLK/pGWA9Gm5Eu4OCT717igB1O/5nXyyqUihBObX2oVUish4rB8iCLGS+WzPLkOiKLG5wLwO6mxcHqM8bkBTEE81ngtgLIhyjBeGyAZAlfR0SFHbkUHPPEV7VE7M4nVDal+DqIPy2eME2q53Syjw895aHVB+PJwBl9Qa9LWOaOQAlKFYRRg8TGp+yYZxEPRlSvfnwbAqY/kkLf8/G3qNrf4+sljsifN9SjgWBx+EdmueiQRW5poNgk7MOc8Jw1KOwdiY7Fi+vQXHBHfwe7bRxUnURAe1serg6O+kvoAjiWM+qaKXbns/Nk+BkOd0IQuXs5Pg2kylkvAZ7Jd0TRzf/QBYtUDJ9ia9zzDuZO9S/AMRD0Bgrvtzmol0q9m+gDxBb0PcDvb8IhTxUpJchQPX7Fo9xN9gKF1E9l/E+QWyw2JDQ8gqUz2EsOYUsvdzR0/eabR6GHRyhF/mW/41ry3jHW56YlwyQZJqmhJUFoKZC7m7OVD0s2CTPJo3Ect07yG1wSod8D0VeGNM1TRzXvn6ZdZUanC15DBsVqVSA9A3lrQcQhAy/BYOHrXkREQPg3fOmTlgyaAf0XIfIEt6uT1eJYRviKi/ovrR61KpAcghrgK9XRvILIAgucyxxbc0ZlKtQDyGrLO/3sGWKe3Ve/aeAX+ARRf4UBNKTJ/AAAAAElFTkSuQmCC">
				</div>
				<div class="google">
					<img class="icon icons8-Near-Me" (click)="navigateToMap(message.id)" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEFklEQVRoQ92aj5ENQRDG+yJABFwEiAARcBEgAkSACBABFwEiQASIABEgAur3avpVv9mZne6Z2aPeVG3dHTvT/fXX/7Z3T+RI1smR4JCZQC6LyC0RuSEit0XkWrqsrb6LCNdHEfkiIp9E5NcMY84Acl9E7qWrR6d3IsJ13rNZ94wAeSoiDzKrY2GszYWlsbpdsAVzMMYFg7pg6qWIvOoB1AMEBV4bACj/Jlk16iaAgs3HInI9AQDQw2QMN6YokBdJKAK+pt+x/oyFgWBEAfH7E+/BXiBY7kMK5N8i8iwJ9cqJ3Ac7nH8pueYdT0LwAMGvcSV+wgJxkft+RFHPvcjCXWEHWbjaqswWEMsEIKA/GgcexUv3IBu3VTCrzLSAfDZMXCQIBZaDuVmzyhoQgu1Rcqd/AaIEhtRMDC1WDQiKE9wENr9vHRMt9yNmcDMSAC62yJQ1IN9SnSD9wcz/sGCC9E+dOc0VKgEh9VG1CW4scVHrrogQA8ivLTyD4F8YuARE2ShSuAEqejWUp8k8Sx1CTYy6/IKVHAg1gppB28GmrRbZiERie7UfhW65JF9ZobZQa3YrB0IXCsUHN01Eg9VhAH8HjF1emWrs97bjtkA4+Gc6+crkwgcA7ZZLdvGywd6inhYIXejbyW6Fe+JCnL22njeCPN9L+uURYB9TFohmq+ihJQVxT9zHE2fUKhiLtD4LXS0QRTmSrWwG8oZWj+EW3mOBaNoll0cqeSkDeUFwH8WNdBpZ1Df6QPTc9V8WyJ9KJqsJWMtAXqV4TicL9awDfXuAtDJQRKkeNvT8biDeDOQFclAHvJvMfd1AOmTttqjAfP9IUrHn7rzKuhYBdzUFTyTYWwBLQEZbIA32fWM7O/2WQJWAtJrDlnG0edwbZKuCaBXJgUTakRqg1YK4RYtSihFvc7jGymqLslXTaBmZwUazacQCW7TxFkhPO5Iz02zj2aA37Ut/K+oc/69AeprD0vE6olp9sGKjpuHRPJ9X4BlsaLZauGjpmV2nFbNYUUZG2hE1SpGNvCBaGpWVGeMggIw0h6qXGriYMFoDOh52cLGRSg+QUTao5AwMyVihAR1W0JEpIFyj/Urgkwlbj7prOcMO0sMjUz1YRy8jYAjQ3pdB+duA6sCwNY0PjfYdqThyS+iVRgsIgsMvXSLaVu4Nv1zyAEGWZYYEQNPW9fbVAZLxEecj0/1yyQtE5WsC4G/ihvTc6/85JmKJabvGQTWwS8aIAuEMBDJz5SFMAQGQR9fIbEqZ1hmYAqBO0CqFDNQDxBYoipQC4t/1YwF+0luVPhjgZY1+MGAHeADAIF3vY0aAKCCsR53Asj0LJqk1+8l6zyEzgKhc/TTDflRj2eI+ghf3049q9FOPHt0P9swEMqzMyAFHA+QvgCEHQgerCGoAAAAASUVORK5CYII=">		
				</div>
				<div class="dots" (click)="showSocialShare()">
<img class="icon icons8-More" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABHklEQVRoQ+2W0Q0CIRBE5zqwE7UD7UQr0E60BK1EO1A7sQPNJpKQSzjWjAEhc9/s3M48WBjQ+Dc03j9koDZBERABMgFtITJAulwE6AhJAREgA6TLRYCOkBQQATJAurw7AjsAGwCLTzR3AEcA5y+jKqYTCMwAXKLGx/2akTWAZ8ZIcZ1g4DbRfOjZTCwzBorrmIE9gINzi2wBnBJrq+iYAU9qHgpVdMzAy5l+WJaaXFV0ujBgh3PupPDITKriOl0cYgvfQ2Eq/fiQ5yj8VCe+yK4TW8l+unJeZEV1xhPFnhE2z0OK1rg9JVKzP3V0iul095hzDqP/WSYCtVmIgAiQCWgLkQHS5SJAR0gKiAAZIF0uAnSEpIAIkAHS5c0TeANHqEyOtt4gLgAAAABJRU5ErkJggg==">
				</div>
				<share-buttons *ngIf="socialVisible" [stumbleUpOn]="false" [whatsApp]="false" [reddit]="false" [tumblr]="false" [pinterest]="false"></share-buttons>
				<div class="time">
					{{ message.createDate | amTimeAgo }}
				</div>
			</div>
			<div class="blackline"></div>
			<div *ngIf="dest === 'profile'" class="actions">
				
				<div id="edit">
					<a [routerLink]="['/pages/edit_message', message.id]">edytuj</a>
				</div>
				<div id="continue">
					<a href="#">przedłuż</a>
				</div>
				<div id="delete">
					<a href="#">usuń</a>
				</div>
			</div>

		</div>
	</div>
</div>