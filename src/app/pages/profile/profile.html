<div id="profile">

    <img src="{{otherImgs?.imageUrl}}" alt="" id="companyImg">
    <h2>{{otherUser?.name}}</h2>

    <md-tab-group>
        <md-tab>
            <template md-tab-label>
                <p class="hidden-sm-down">Moje posty</p>
            </template>
            <template md-tab-content>
                <div id="messages">
                    <messages [dest] = "'profile'" *ngIf="idCompany" [id] = idCompany></messages>
                </div>
            </template>
        </md-tab>

        <md-tab>
            <template md-tab-label>
                <p class="hidden-sm-down">Edytuj profil</p>
            </template>
            <template md-tab-content>
                <div id="daneFirmy">
                    <h3>zmień hasło/email</h3>
                    <form id="changeEP" [formGroup]="passwordForm" (ngSubmit)="udpatePassword(passwordForm.value)">
                        <div [ngClass]="{'has-error':!passwordForm.controls['oldPassword'].valid && passwordForm.controls['oldPassword'].touched}">
                            <input type="password" id="oldPassword" placeholder="stare hasło" [formControl]="passwordForm.controls['oldPassword']">
                            <div 
                                *ngIf="!passwordForm.controls['oldPassword'].valid && passwordForm.controls['oldPassword'].touched"
                            >
                                Musisz wpisać stare hasło
                            </div>
                        </div>
                        <div formGroupName="passwords">
                            <input type="password" id="password" placeholder="nowe hasło" formControlName="password">
                            <input type="password" id="passwordRepeat" placeholder="powtórz nowe hasło" formControlName="repeatPassword">
                            <div>
                                <span *ngIf="!passwordForm.controls['passwords'].valid && passwordForm.controls['passwords'].touched">Hasła nie są takie same</span>
                            </div>
                        </div>
                        <button type="submit" [disabled]="!passwordForm.valid">Zapisz</button>
                    </form>
                    <span *ngIf="messageAfter">Pomyślnie zmieniono hasło</span>
                </div>
            </template>
        </md-tab>

        <md-tab>
            <template md-tab-label>
                <p class="hidden-sm-down">Edytuj Dane Firmy</p>
            </template>

            <template md-tab-content>
                <div id="editProfile">
                <h3>edytuj profil</h3>
                <form id="changeCI">
                    <image-upload></image-upload>
                    <div id="name">
                        <label for="nazwa">nazwa firmy</label>
                        <input type="text" id="nazwa">
                    </div>
                    <div id="address">
                        <div id="town">
                            <label for="miasto">miasto</label>
                            <input type="text" id="miasto">
                        </div>
                        <div id="street">
                            <label for="ulica">ulica</label>
                            <input type="text" id="ulica">
                        </div>
                        <div id="streetNo">
                            <label for="numer">nr ulicy</label>
                            <input type="text" id="numer">
                        </div>
                    </div>

                    <div class="blackline"></div>

                    <div id="contact">
                        <div id="www">
                            <label for="www">www</label>
                            <input type="text" id="www">
                        </div>
                        <div id="openingHours">
                            <label for="openingHours">godziny otwarcia</label>
                            <textarea name="openingHours" id="openingHours" cols="30" rows="10"></textarea>
                        </div>
                        <div id="telephone">
                            <label for="telephone">tel</label>
                            <input type="text" id="telephone">
                        </div>
                        <div id="email">
                            <label for="email">e-mail</label>
                            <input type="email" id="email">
                        </div>
                            <div id="description">
                            <label for="description">opis</label>
                            <textarea name="description" id="description" cols="30" rows="10"></textarea>
                        </div>
                    </div>
                    <button type="submit">Zapisz</button>
                </form>
                </div>
            </template>
        </md-tab>

        <md-tab>
            <template md-tab-label>
                <p class="hidden-sm-down">Dodatkowe Informacje</p>
            </template>
            <template md-tab-content>
                <div id="dodatkoweInformacje">
                    <form>
                        <div class="form-group">
                            <label for="strona">Strona internetowa</label>
                            <input type="text" class="form-control" id="strona">
                        </div>
                        <div class="form-group">
                            <label for="telefon">Telefon</label>
                            <input type="text" class="form-control" id="telefon">
                        </div>
                        <div class="form-group">
                            <label for="godziny">Godziny otwarcia</label>
                            <input type="text" class="form-control" id="godziny">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="text" class="form-control" id="email">
                        </div>
                        <div class="form-group">
                            <label for="opis">Opis</label>
                            <input type="text" class="form-control" id="opis">
                        </div>
                        <button type="submit" class="btn btn-success">Zapisz</button>
                    </form>
                </div>
            </template>
        </md-tab>
        <md-tab>
        <template md-tab-label>
            <p class="hidden-sm-down">Oddziały</p>
        </template>
        <template md-tab-content></template>
        </md-tab>
    </md-tab-group>
</div>