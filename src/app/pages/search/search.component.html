<link href="https://fonts.googleapis.com/css?family=Sanchez" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">

<div class="container-fluid">

    <h3>szukaj</h3>
    
    <form [formGroup]="searchForm" (ngSubmit)="onSubmit(searchForm.value)">

        <input class="inputSearch" type="text" formControlName="searchTerm">
        <div class="searchError" *ngIf="searchForm.controls['searchTerm'].hasError('required') && searchForm.controls['searchTerm'].touched">Wpisz szukaną frazę</div>

        <p class="distance">Odległość</p>
        <div id="nouisliderDiv">
            <nouislider [min]="0" [max]="101" [step]="1" [(ngModel)]="someValue" formControlName = "range"></nouislider>
        </div>

        <p class="distance2">
            Odległośc - 
            <span *ngIf="someValue !== 101">{{ someValue }} km</span>
            <span *ngIf="someValue === 101">brak ograniczeń</span>
        </p>

        <div id="checkboxDiv">
            <div id="checkboxesValues">
                <div class="c" *ngFor="let messageType of messageTypesOb">
                    <div class="checkbox">
                        <input type="checkbox" id="types-{{messageType.name}}" (click)="setType(messageType.name)">
                        <label for="types-{{messageType.name}}"></label>
                    </div>
                    <span>{{ messageType.value }}</span>
                    <i *ngIf="messageType.name === 'EVENT'" class="material-icons">event</i>
                    <i *ngIf="messageType.name === 'WORK'" class="material-icons">work</i>
                    <i *ngIf="messageType.name === 'SHORT_TERM_OFFER'" class="material-icons">timer</i>
                    <i *ngIf="messageType.name === 'WORTH_SEEING'" class="material-icons">visibility</i>
                    <i *ngIf="messageType.name === 'PROMOTION'" class="material-icons">loyalty</i>
                </div>
            </div>
        </div>

        <div id="companyCategories">
            <div class="categoriesI" *ngFor="let category of categories">
                <div class="blacklineF">
                    <div></div>
                </div>
                <button type="button" (click)="category.bol = !category.bol" [ngSwitch]="category.id">
                    <img *ngSwitchCase="1" src="../../meta/menu_icons/kultura_i_rozrywka.png" alt="">
                    <img *ngSwitchCase="2" src="../../meta/menu_icons/gastronomia_i_nocne_zycie.png" alt="">
                    <img *ngSwitchCase="3" src="../../meta/menu_icons/zakupy_male.png" alt="">
                    <img *ngSwitchCase="4" src="../../meta/menu_icons/zakupy_duze.png" alt="">
                    <img *ngSwitchCase="5" src="../../meta/menu_icons/uslugi_dla_ciala.png" alt="">
                    <img *ngSwitchCase="6" src="../../meta/menu_icons/uslugi_inne.png" alt="">
                    <img *ngSwitchCase="7" src="../../meta/menu_icons/sport_i_turystyka.png" alt="">
                    {{ category.name }}
                </button>
                
                <div [collapse]="category.bol" *ngFor="let subcategory of category.subcategories">
                    <div class="subcategories">
                        <div class="checkbox" >
                            <input type="checkbox" id="sub-{{ subcategory.id }}" (click)="setSubcategory(subcategory.id)">
                            <label for="sub-{{ subcategory.id }}"></label>
                        </div>
                        <span>{{ subcategory.name }}</span>
                        
                    </div>
                </div>
                
            </div>
        </div>

        <input class="searchSubmit" type="submit" value="szukaj" [disabled]="!searchForm.valid">
    </form>

</div>

<!--<div bsModal #childModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" [config]="{backdrop: 'static'}">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" id="searchArea">
      <h4>{{ name }}</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
            <span aria-hidden="true">&times;</span>
        </button>
        
      <div class="modal-body">

        <form [formGroup]="searchForm" (ngSubmit)="searchSubmit(searchForm.value)">
            <input type="text" id="search" formControlName="searchTerm">
            <div *ngIf="!searchForm.controls['searchTerm'].valid && searchForm.controls['searchTerm'].touched">
                Musisz wpisać frazę do wyszukania
            </div>
            <button type="submit" id="mainButton" [disabled]="!searchForm.valid">Szukaj</button>
        </form>

        
        <button id="advSearch" type="button" (click)="isCollapsed = !isCollapsed">Zaawansowane szukanie</button>
        <div (collapsed)="collapsed($event)" (expanded)="expanded($event)" [collapse]="isCollapsed">
          <h5>sortuj po:</h5>

          <form id="sortForm">
              <div>
                  <input type="radio" name="sort" value="lokalizacja"> lokalizacja
              </div>
              <div>
                  <input type="radio" name="sort" value="data dodania"> data dodania
              </div>
          </form>

          <h5>odległość</h5>

          <div id="distance">
            
            <div id="mdSlider">
                <md-slider min="1" max="1000"></md-slider>
            </div>
          </div>

          <div class="blackline"></div>

          <h5>typ wiadomości</h5>
          <div id="messagesType">
            
            <ss-multiselect-dropdown [options]= "myOptionsTypeMessages" [(ngModel)] = "optionsModel" (ngModelChange)="onChange($event)" [texts]="myTexts" [settings]="mySettings"></ss-multiselect-dropdown>
            
            <div *ngFor="let op of arrayOfOptions">
              <h5>{{ op.name }}</h5>
              <ss-multiselect-dropdown [options]= "op.myOptions" [(ngModel)] = "op.optionsModel" (ngModelChange)="onChange($event)" [texts]="myTexts" [settings]="mySettings"></ss-multiselect-dropdown>
            </div>
          </div>
        </div>
        

      </div>
    </div>
  </div>
</div>-->