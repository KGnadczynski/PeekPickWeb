<link href="https://fonts.googleapis.com/css?family=Sanchez" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
<div bsModal #childModal="bs-modal" class="modal fade" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" backdrop="false" keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div id="addForm">
            
            <div class="header">
                <div>
                    <h3>{{ messageTypeValue }}</h3>
                    <i *ngIf="messageTypeName === 'EVENT'" class="material-icons">event</i>
                    <i *ngIf="messageTypeName === 'WORK'" class="material-icons">work</i>
                    <i *ngIf="messageTypeName === 'SHORT_TERM_OFFER'" class="material-icons">timer</i>
                    <i *ngIf="messageTypeName === 'WORTH_SEEING'" class="material-icons">visibility</i>
                    <i *ngIf="messageTypeName === 'PROMOTION'" class="material-icons">loyalty</i>
                </div>
                <button type="button" class="header-button" aria-label="Close" (click)="hideChildModal()">
                    <img src="../../meta/close-circle-outline.png" alt="">
                </button>
            </div>

            <div class="blackLineF">
                <div></div>
            </div>

            <div class="date">
                <div daterangepicker #datePickerStart [options]="pickerOptionsStart" (selected)="selectStartDate($event)">
                    <img src="../../meta/calendar.png" alt="">
                </div>
                <div class="text">
                    <p>Data rozpoczęcia: </p>
                        <!-- <input daterangepicker #datePickerStart [(ngModel)]="msgAddModel.startDate" (selected)="selectStartDate($event)" [options]="pickerOptionsStart" type="submit"/>   -->
                    <p>{{ msgAddModel.startDate }}</p>
                </div>
            </div>

            <div class="date">
                <div daterangepicker #datePickerEnd (selected)="selectEndDate($event)" [options]="pickerOptionsEnd">
                    <img src="../../meta/calendar.png" alt="">
                </div>
                
                <div class="text">
                    <p>Data zakończenia: </p>
                    <p>{{ msgAddModel.endDate }}</p>

                    <div (collapsed)="collapsed($event)" (expanded)="expanded($event)" [collapse]="isCollapsed">
                      <!-- <input daterangepicker [(ngModel)]="msgAddModel.endDate" (selected)="selectEndDate($event)" [options]="pickerOptionsEnd" type="submit" /> -->
                    </div>
                    <div class="checkBoxDiv">
                        <div class="checkbox">
                            <input type="checkbox" name="checkboxAdd" id="checkboxAdd" [checked]="withEndDate" (change)="addprop()">
                            <label for="checkboxAdd"></label>
                        </div>
                        <span>bez daty zakończenia</span>
                    </div>
                </div>

            </div>
            
            <div class="blackLineF">
                <div></div>
            </div>

            <div class="content">
                <!--<h4>Opis</h4>-->
                <textarea rows="3" type="text" placeholder="treść komunikatu" [(ngModel)]="msgAddModel.content" #messageContent maxlength="200"></textarea>
                <p>Zostało: {{200 - messageContent.value.length}} znaków</p>
                <div class="errorDiv" *ngIf="errorInfo">
                    <span>{{ errorInfo }}</span>
                </div>
            </div>

            <div class="blackLineF">
                <div></div>
            </div>

            <div id="addPhoto">
                <ba-picture-uploader #fileUpload  (beforeUpload)="beforeUpload($event)" [picture]="profile.picture" [defaultPicture]="defaultPicture" [uploaderOptions]="uploaderOptions"></ba-picture-uploader>
                <p>dodaj zdjęcie</p>
            </div>

            <div id="addLocalization">
                <div class="iconAndP">
                    <img class="icon" src="../../meta/map-marker.png" alt="" (click)="setLocationCallapsed()" (change)="addprop2()">
                    <p>zmień lokalizację</p>
                </div>

                <!--<div class="checkBoxDiv">
                    <div class="checkbox">
                        <input type="checkbox" name="checkboxAdd2" id="checkboxAdd2">
                        <label for="checkboxAdd2"></label>
                    </div>
                    <span>użyj lokalizacji</span>
                </div>-->
                
            </div>

            <div class="odzialFirmy">
            <ss-multiselect-dropdown *ngIf="showMulitSelect" [texts]="myTexts" [settings]="mySettings" defaultTitle="" [options]="myOptions" [(ngModel)]="optionsModel" (ngModelChange)="onChange($event)"></ss-multiselect-dropdown> 
              
                <p *ngIf="showMulitSelect">wybierz oddział firmy</p>
                <p *ngIf="!showMulitSelect">firma nie ma oddziałów</p>
				<div *ngIf="companyBranchListSelectedFinal.length > 0" class="chosenBranches">
					<span>Wybrałeś oddziały</span>
					<p *ngFor="let option of companyBranchListSelectedFinal">
						{{ option.name }}
					</p>
				</div>
            </div>

            <div [collapse]="isLocationCollapsed">
                <agm-map [latitude]="lat" [longitude]="lng" (mapClick)="mapClicked($event)" [zoom]="zoom"
                [disableDefaultUI]="false"
                    [zoomControl]="true">
                    <agm-marker [latitude]="lat" [longitude]="lng" [markerDraggable]="true" (dragEnd)="markerDragEnd($event)"></agm-marker>
                    <agm-info-window>
                        <strong>InfoWindow content</strong>
                    </agm-info-window>
                </agm-map>
                <p>{{localization}}</p>
            </div>

            <div id="buttons">
              <button (click)="addMessage()">{{submitButton}}</button>
              <button (click)="closeModal()">Anuluj</button>
            </div>

        </div>

      <div class="modal-body">
      </div>
    </div>
  </div>
</div>